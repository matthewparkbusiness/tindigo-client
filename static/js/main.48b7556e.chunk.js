(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,a,t){e.exports=t(129)},116:function(e,a,t){},117:function(e,a,t){},124:function(e,a,t){},125:function(e,a,t){},126:function(e,a,t){},129:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(10),s=t.n(o),l=(t(116),t(117),t(184)),c=t(16),i=t(37),m=t(96),u=Object(m.a)({typography:{fontFamily:'"Roboto"'},primary:"#f04040",secondary:"#1f1f1f",error:"#d8000c",bgcolor:"#f6f6f6"}),d=t(7),p=t(18),g=t(162),h=t(130),f=t(164),E=t(165),v=t(166),b=t(188),w=t(97),y=t(167),O=t(168),k=t(169),x=t(170),j=t(55),S=t(189),N=t(171),C=t(160),P=t(14),I=t(87),L=t.n(I),T=t(89),B=t.n(T),M=t(73),F=t.n(M),A=t(88),z=t.n(A),R=t(90),V=t.n(R),D=t(84),q=t.n(D),W=t(85),Y=t.n(W),U=t(86),$=t.n(U),K=Object(C.a)(function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(p.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(p.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(P.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(P.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(p.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),sectionDesktop:Object(p.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(p.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),mobileMenuLink:{color:"black",textDecoration:"none"},desktopMenuLink:{color:"white",textDecoration:"none"},list:{width:250},fullList:{width:"auto"}}});var _=Object(i.e)(function(e){var a=K(),t=r.a.useState(null),n=Object(d.a)(t,2),o=n[0],s=n[1],l=r.a.useState(!1),i=Object(d.a)(l,2),m=i[0],u=i[1],p=Boolean(o),C=Boolean(window.sessionStorage.username),P=function(e){return function(a){("keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&u(e)}},I=function(){s(null)},T="primary-search-account-menu-mobile",M=function(){var a;window.sessionStorage.removeItem("token"),window.sessionStorage.removeItem("username"),a="/",e.history.push(a)};return r.a.createElement("div",{className:a.grow},r.a.createElement(k.a,{position:"static"},r.a.createElement(x.a,null,r.a.createElement("div",null,r.a.createElement(v.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"open drawer",onClick:P(!0)},r.a.createElement(L.a,null)),r.a.createElement(b.a,{open:m,onClose:P(!1)},r.a.createElement("div",{className:a.list,role:"presentation",onClick:P(!1),onKeyDown:P(!1)},r.a.createElement(g.a,null,r.a.createElement(c.b,{className:a.mobileMenuLink,to:"/"},r.a.createElement(h.a,{button:!0,key:"Home"},r.a.createElement(f.a,null,r.a.createElement(q.a,null)),r.a.createElement(E.a,{primary:"Home"}))),C?r.a.createElement(c.b,{className:a.mobileMenuLink,to:"/profile"},r.a.createElement(h.a,{button:!0,key:"Profile"},r.a.createElement(f.a,null,r.a.createElement(Y.a,null)),r.a.createElement(E.a,{primary:"Profile"}))):""," ",C?r.a.createElement(c.b,{className:a.mobileMenuLink,to:"/post/create"},r.a.createElement(h.a,{button:!0,key:"Create Posts"},r.a.createElement(f.a,null,r.a.createElement($.a,null)),r.a.createElement(E.a,{primary:"Create Posts"}))):"")))),r.a.createElement(j.a,{className:a.title,variant:"h6",noWrap:!0},"Tindigo"),r.a.createElement("div",{className:a.search},r.a.createElement("div",{className:a.searchIcon},r.a.createElement(B.a,null)),r.a.createElement(S.a,{placeholder:"Search\u2026",classes:{root:a.inputRoot,input:a.inputInput},onKeyPress:function(e){"Enter"===e.key&&(window.location.href="/search?query="+e.target.value)},inputProps:{"aria-label":"search"}})),r.a.createElement("div",{className:a.grow}),C?r.a.createElement("div",{className:a.sectionDesktop},r.a.createElement(N.a,{onClick:M,color:"inherit"},"Logout")):r.a.createElement("div",{className:a.sectionDesktop},r.a.createElement(c.b,{className:a.desktopMenuLink,to:"/login"},r.a.createElement(N.a,{color:"inherit"},"Login")),r.a.createElement(c.b,{className:a.desktopMenuLink,to:"/signup"},r.a.createElement(N.a,{color:"inherit"},"Sign Up"))),r.a.createElement("div",{className:a.sectionMobile},r.a.createElement(v.a,{"aria-label":"show more","aria-controls":T,"aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},color:"inherit"},r.a.createElement(V.a,null))))),C?r.a.createElement(w.a,{anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},id:T,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:p,onClose:I},r.a.createElement(y.a,{onClick:M},r.a.createElement(v.a,{color:"inherit"},r.a.createElement(O.a,{color:"secondary"},r.a.createElement(F.a,null))),r.a.createElement("p",null,"Logout"))):r.a.createElement(w.a,{anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},id:T,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:p,onClose:I},r.a.createElement(c.b,{className:a.mobileMenuLink,to:"/login"},r.a.createElement(y.a,null,r.a.createElement(v.a,{color:"inherit"},r.a.createElement(O.a,{color:"secondary"},r.a.createElement(F.a,null))),r.a.createElement("p",null,"Login"))),r.a.createElement(c.b,{className:a.mobileMenuLink,to:"/signup"},r.a.createElement(y.a,null,r.a.createElement(v.a,{color:"inherit"},r.a.createElement(O.a,{color:"secondary"},r.a.createElement(z.a,null))),r.a.createElement("p",null,"Sign Up")))))}),G=t(8),J=t.n(G),Q=t(12),Z=(t(124),t(172)),H=t(173),X="https://still-chamber-79686.herokuapp.com",ee=function(){var e=Object(Q.a)(J.a.mark(function e(a,t){var n,r,o=arguments;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:"",e.next=3,fetch(X+a,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(t)});case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)}));return function(a,t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(Q.a)(J.a.mark(function e(a){var t,n,r=arguments;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:"",e.next=3,fetch(X+a,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},redirect:"follow",referrer:"no-referrer"});case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),te=t(174),ne=t(176),re=t(175),oe=Object(C.a)({card:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});var se={display:"block",width:"100vw"};function le(e){var a=Object(n.useState)(0),t=Object(d.a)(a,2),o=t[0],s=t[1],l=Object(n.useState)(!0),c=Object(d.a)(l,2),i=c[0],m=c[1];Object(n.useEffect)(function(){(function(){var a=Object(Q.a)(J.a.mark(function a(){var t,n,r,o,l;return J.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ae("/post/id/"+e.postId+"?username="+e.username,e.token);case 2:(t=a.sent).data?(n=new Date(t.data.dateCreated),r=n.getFullYear(),o=n.getMonth()+1,l=n.getDate(),t.isPrivate=!1,t.data.dateCreatedFormatted=o+"/"+l+"/"+r):t.isPrivate=!0,s(t),m(!1);case 6:case"end":return a.stop()}},a)}));return function(){return a.apply(this,arguments)}})()()},[]);var u=oe();return i?r.a.createElement("div",null,"  "):r.a.createElement(Z.a,null,r.a.createElement(H.a,{container:!0},r.a.createElement(te.a,{className:u.card,style:se},o.isPrivate?r.a.createElement(re.a,null,r.a.createElement(j.a,{className:u.title,color:"textSecondary",gutterBottom:!0},"Private Post")," "):r.a.createElement(re.a,null,r.a.createElement(j.a,{className:u.title,color:"textSecondary",gutterBottom:!0},o.data.dateCreatedFormatted),r.a.createElement("div",{id:"tags"},o.data.tags.map(function(e){return r.a.createElement(N.a,{key:e,value:"tag",className:u.button,variant:"contained",color:"primary",size:"small"},e)})),r.a.createElement(j.a,{variant:"h5",component:"h2"},o.data.question),r.a.createElement(j.a,{variant:"body2",component:"p"},"@"+o.data.username),r.a.createElement(j.a,{className:u.pos,color:"textSecondary"},o.data.description)),o.isPrivate?"":r.a.createElement(ne.a,null,r.a.createElement(N.a,{size:"small",href:"../post/view?id="+e.postId},"View")))))}var ce=function(e){return 0==e.postIds?r.a.createElement("div",null):"string"===typeof e.postIds||e.postIds instanceof String?r.a.createElement("div",null,r.a.createElement(le,{postId:e.postIds,token:e.token,username:e.username})):r.a.createElement("div",{class:"row"},e.postIds.map(function(a){return r.a.createElement(le,{postId:a,token:e.token,username:e.username})}))};var ie=function(e){var a,t;window.sessionStorage.username&&(a=window.sessionStorage.username,t=window.sessionStorage.token);var o=Object(n.useState)(0),s=Object(d.a)(o,2),l=s[0],i=s[1],m=Object(n.useState)(!0),u=Object(d.a)(m,2),p=u[0],g=u[1];return Object(n.useEffect)(function(){!function(){var e=Object(Q.a)(J.a.mark(function e(){var n;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=6;break}return e.next=3,ae("/account/u/"+a,t);case 3:n=e.sent,i(n),g(!1);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),r.a.createElement(Z.a,null,r.a.createElement("div",{style:{height:"20vh"}}," "),r.a.createElement(H.a,{container:!0,spacing:1},r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement("center",null,r.a.createElement("p",{style:{color:"#99",fontSize:"70px"}},a?"Welcome @".concat(a,"!"):r.a.createElement(r.a.Fragment,null,"Welcome To Tindigo")),r.a.createElement("p",{style:{color:"#99",fontSize:"40px"}}," Voting made fast and easy... "),r.a.createElement("p",{style:{color:"#99",fontSize:"15px"}},a?"":r.a.createElement(r.a.Fragment,null,r.a.createElement(c.b,{id:"new-person-link",to:"/login"},"Log in")," or ",r.a.createElement(c.b,{id:"new-person-link",to:"/signup"},"create an account!")))))),a?r.a.createElement(H.a,{container:!0},r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement("h1",null,"Your Recent Posts")),p?r.a.createElement("div",null):0==l.data.posts.length?"You have no posts right now.":r.a.createElement(ce,{postIds:p?0:l.data.posts,token:t,username:a})):"")},me=t(177),ue=t(178),de=t(91),pe=t.n(de),ge=t(32),he=t.n(ge),fe=Object(C.a)(function(e){return{avatar:{margin:10,width:200,height:200}}});var Ee=Object(i.e)(function(e){var a,t,o,s=fe();window.sessionStorage.username?(a=window.sessionStorage.username,t=window.sessionStorage.token):(o="/",e.history.push(o));var l=Object(n.useState)(0),c=Object(d.a)(l,2),i=c[0],m=c[1],u=Object(n.useState)(!0),p=Object(d.a)(u,2),g=p[0],h=p[1];return Object(n.useEffect)(function(){!function(){var e=Object(Q.a)(J.a.mark(function e(){var n,r,o,s,l;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae("/account/u/"+a,t);case 2:n=e.sent,r=new Date(n.data.dateCreated),o=r.getFullYear(),s=r.getMonth()+1,l=r.getDate(),n.data.dateCreatedFormatted=s+"/"+l+"/"+o,m(n),h(!1),console.log(n);case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),r.a.createElement(Z.a,null,r.a.createElement("div",{style:{height:"5vh"}}," "),r.a.createElement(H.a,{container:!0},r.a.createElement(H.a,{item:!0,xs:3},r.a.createElement(me.a,{alt:"Profile Pic Placeholder",src:he.a,className:s.avatar})),r.a.createElement(H.a,{item:!0,xs:8},r.a.createElement("h1",null,g?"Loading your account...":i.data.firstName+" "+i.data.lastName,"\xa0  \xa0",r.a.createElement(ue.a,{color:"secondary","aria-label":"edit"},r.a.createElement(pe.a,null))),r.a.createElement("h2",null,"@"+a),r.a.createElement("h3",null,"About me"),r.a.createElement("p",null,!g&&i.data.aboutMe?i.data.aboutMe:"This user has no about me."))),r.a.createElement(H.a,{container:!0},r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement("h1",null,"Your Posts"),r.a.createElement(ce,{postIds:g?0:i.data.posts,token:t,username:a}))))}),ve=t(46),be=t(43),we=(t(125),t(185));var ye=function(e){return r.a.createElement("div",null,r.a.createElement(we.a,{id:"select-visibility",select:!0,label:"Select Poll Visibility",className:e.classes.textField,value:e.visibility,onChange:function(a){e.setVisibility(a.target.value)},onBlur:e.handleBlur("visibility"),helperText:e.shouldMarkError("visibility")?e.messages.visibility:"",margin:"normal",SelectProps:{MenuProps:{className:e.classes.menu}}},e.visibilityOptions.map(function(e){return r.a.createElement(y.a,{key:e.value,value:e.value},e.label)})))},Oe=t(181);var ke=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"field"},r.a.createElement(we.a,{id:"tag-input",className:e.classes.textField,label:"Tags",onBlur:e.handleBlur("tags"),onKeyPress:function(a){"Enter"===a.key&&(console.log(a.target.value),e.handleAddTagForTextField(a))},helperText:e.shouldMarkError("tags")?e.messages.tags:"",margin:"normal"}),r.a.createElement(N.a,{className:e.classes.button,variant:"contained",color:"primary",size:"large",onClick:e.handleAdd},"Add tag")),r.a.createElement("div",{id:"tags"},e.tags.map(function(a){return r.a.createElement(N.a,{key:a,value:"tag",className:e.classes.button,variant:"contained",color:"primary",startIcon:r.a.createElement(Oe.a,null,"close"),size:"medium",onClick:e.handleRemove},a)})))};var xe=function(e){return r.a.createElement(we.a,{id:"question",className:e.classes.textField,label:"Question",onBlur:e.handleBlur("question"),helperText:e.shouldMarkError("question")?e.messages.question:"",margin:"normal",onChange:function(a){e.setQuestion(a.target.value)},value:e.question})};var je=function(e){return r.a.createElement(we.a,{id:"description",className:e.classes.textField,label:"Description",onBlur:e.handleBlur("description"),helperText:e.shouldMarkError("description")?e.messages.description:"",margin:"normal",onChange:function(a){e.setDescription(a.target.value)},value:e.description})};var Se=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"field"},r.a.createElement(we.a,{id:"option-input",className:e.classes.textField,label:"Voting Option",onBlur:e.handleBlur("options"),helperText:e.shouldMarkError("options")?e.messages.options:"",onKeyPress:function(a){"Enter"===a.key&&e.handleAddOptionForTextField(a)},margin:"normal"}),r.a.createElement(N.a,{className:e.classes.button,variant:"contained",color:"primary",size:"large",onClick:e.handleAdd},"Add option")),r.a.createElement("div",{id:"options"},e.options.map(function(a){return r.a.createElement(N.a,{key:a,value:"option",className:e.classes.button,variant:"contained",color:"primary",startIcon:r.a.createElement(Oe.a,null,"close"),size:"medium",onClick:e.handleRemove},a)})))};var Ne=function(e){var a=Object.keys(e.errors).filter(function(e){return"description"!==e}).some(function(a){return e.errors[a]});return r.a.createElement("div",null,r.a.createElement(N.a,{variant:"contained",color:"primary",className:e.classes.button,endIcon:r.a.createElement(Oe.a,null,"send"),size:"large",onClick:e.handlePost,disabled:a},"Post"))},Ce=[{value:"everyone",label:"Public"},{value:"group",label:"Group only"}],Pe=Object(C.a)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:300},menu:{width:200},button:{margin:e.spacing(1)}}}),Ie=Object(i.e)(function(e){var a,t,o=function(a){e.history.push(a)};window.sessionStorage.username?(a=window.sessionStorage.username,t=window.sessionStorage.token):o("/");var s=Pe(),l=r.a.useState(""),c=Object(d.a)(l,2),i=c[0],m=c[1],u=Object(n.useState)([]),g=Object(d.a)(u,2),h=g[0],f=g[1],E=Object(n.useState)(""),v=Object(d.a)(E,2),b=v[0],w=v[1],y=Object(n.useState)(""),O=Object(d.a)(y,2),k=O[0],x=O[1],j=Object(n.useState)([]),S=Object(d.a)(j,2),N=S[0],C=S[1],P=Object(n.useState)({visibility:!1,tags:!1,question:!1,description:!1,options:!1}),I=Object(d.a)(P,2),L=I[0],T=I[1],B={visibility:"Please select a visibility option",tags:"Please provide at least one tag",question:"Please provide a question for your poll",description:"A description is not required, but it may help",options:"Please provide at least two voting options"},M=function(e){var a=e.target.textContent.split(" ")[1],t=document.getElementById("".concat(a,"-input")),n=t.value;"tag"===a&&f([].concat(Object(be.a)(h),[n])),"option"===a&&C([].concat(Object(be.a)(N),[n])),t.value=""},F=function(e){return function(a){T(Object(ve.a)({},L,Object(p.a)({},e,!0)))}},A=function(e){var a=e.target,t=a.textContent.substring(5),n=a.value;if(n||(n=(a=a.parentElement).value)||(t=(a=a.parentElement.parentElement).textContent.substring(5),n=a.value),"tag"===n){var r=h.indexOf(t);h.splice(r,1),f(Object(be.a)(h))}else if("option"===n){var o=N.indexOf(t);N.splice(o,1),C(Object(be.a)(N))}},z=function(){var e=Object(Q.a)(J.a.mark(function e(){var n,r;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={username:a,visibility:i,tags:h,question:b,description:k,choices:N},console.log(n),e.next=5,ee("/post/id",n,t);case 5:r=e.sent,console.log(r),"success"===r.message&&o("/post/view?id="+r.data._id),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),R={visibility:i.length<=0,tags:h.length<=0,description:k.length<=0,question:b.length<=0,options:N.length<=1},V=function(e){var a=R[e],t=L[e];return!!a&&t};return r.a.createElement(Z.a,{maxWidth:"sm"},r.a.createElement("h1",null,"Create a Poll"),r.a.createElement("form",{className:s.container,noValidate:!0,autoComplete:"off"},r.a.createElement(ye,{classes:s,visibility:i,setVisibility:m,visibilityOptions:Ce,handleBlur:F,shouldMarkError:V,messages:B}),r.a.createElement(ke,{classes:s,tags:h,handleAdd:M,handleBlur:F,handleRemove:A,shouldMarkError:V,handleAddTagForTextField:function(e){var a=e.target.value;f([].concat(Object(be.a)(h),[a])),e.target.value=""},messages:B}),r.a.createElement(xe,{classes:s,question:b,setQuestion:w,handleBlur:F,shouldMarkError:V,messages:B}),r.a.createElement(je,{classes:s,description:k,setDescription:x,handleBlur:F,shouldMarkError:V,messages:B}),r.a.createElement(Se,{classes:s,options:N,setOptions:C,handleAdd:M,handleBlur:F,handleRemove:A,shouldMarkError:V,handleAddOptionForTextField:function(e){var a=e.target.value;C([].concat(Object(be.a)(N),[a])),e.target.value=""},messages:B}),r.a.createElement(Ne,{classes:s,handlePost:z,errors:R})))});t(126);var Le=function(e){return 0==e.users.length?r.a.createElement(H.a,{item:!0,xs:3}," No votes yet."):r.a.createElement(H.a,{item:!0,xs:3},e.users.map(function(a){return r.a.createElement(H.a,{container:!0,key:a.username},r.a.createElement(H.a,{item:!0,xs:6,sm:5,md:3},r.a.createElement(me.a,{alt:"Profile Pic Placeholder",src:e.profileImage,className:e.classes.avatarSidebar})),r.a.createElement(H.a,{item:!0,xs:6,sm:7,md:9},r.a.createElement(H.a,{container:!0},r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement("label",null,r.a.createElement("b",null,"@"+a.username))),r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement("label",{style:{fontWeight:20}},a.choice)),r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement("label",{style:{fontWeight:20}},function(e){var a=new Date(e),t=a.getFullYear();return a.getMonth()+1+"/"+a.getDate()+"/"+t}(a.date))))))}))},Te=function(e){return r.a.createElement(H.a,{container:!0},r.a.createElement(H.a,{item:!0,xs:7,sm:6,md:4,lg:3},r.a.createElement(me.a,{className:e.classes.avatar,alt:"Profile Pic Placeholder",src:e.profileImage})),r.a.createElement(H.a,{item:!0,xs:5,sm:6,md:8,lg:9},r.a.createElement("div",{id:"tags"},r.a.createElement("label",null,"Tags"),e.postInfo.tags.map(function(a){return r.a.createElement(N.a,{key:a,value:"tag",className:e.classes.button,variant:"contained",color:"primary",size:"medium"},a)})),r.a.createElement("div",{id:"question"},r.a.createElement("h2",null,e.postInfo.question)),r.a.createElement("div",{id:"description"},r.a.createElement("h3",null,e.postInfo.description?e.postInfo.description:""))))},Be=t(179),Me=t(180),Fe=t(190),Ae=t(182),ze=t(187);var Re=function(e){return r.a.createElement(H.a,{container:!0},r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(Be.a,{component:"fieldset",className:e.classes.formControl},r.a.createElement(Me.a,{component:"legend"},"Voting options"),r.a.createElement(Fe.a,{"aria-label":"voting-option",name:"option",value:e.option,onChange:e.handleChange},e.postInfo.choices.map(function(e){return e.choice.toLowerCase(),r.a.createElement(Ae.a,{key:e.choice,value:e.choice,control:r.a.createElement(ze.a,null),label:e.choice})})))))},Ve=t(183),De=Object(C.a)({card:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),qe={display:"block",width:"100vw"};function We(e){var a=De();return r.a.createElement(Z.a,null,r.a.createElement(H.a,{container:!0},r.a.createElement(te.a,{className:a.card,style:qe},r.a.createElement(re.a,null,r.a.createElement(j.a,{className:a.title,color:"textSecondary",gutterBottom:!0},"@"+e.username),r.a.createElement(j.a,{variant:"body2",component:"p"},e.content)))))}var Ye=function(e){return r.a.createElement(H.a,{container:!0},r.a.createElement(Ve.a,{variant:"middle"}),r.a.createElement(H.a,{item:!0,xs:10},r.a.createElement("h1",null,"Comments")),r.a.createElement(H.a,{item:!0,xs:10},e.commentsList.comments.length>0?r.a.createElement("div",{class:"row"},e.commentsList.comments.map(function(e){return r.a.createElement(We,{username:e.username,content:e.content})})):r.a.createElement("center",null,"No posts at this time. Be the first one to comment!")),r.a.createElement(H.a,{item:!0,xs:10},r.a.createElement(we.a,{id:"comment",name:"comment",value:e.comment,onChange:e.handleChange,label:"Write a comment",className:e.classes.textField,margin:"normal",variant:"outlined",onKeyPress:function(a){if("Enter"===a.key){var t=function(){var t=Object(Q.a)(J.a.mark(function t(){var n;return J.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={username:e.username,comment:a.target.value},console.log(n),t.prev=2,t.next=5,ee("/post/id/"+e.commentsList._id+"/comment",n,e.token);case 5:"success"===t.sent.message&&window.location.reload(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:case"end":return t.stop()}},t,null,[[2,9]])}));return function(){return t.apply(this,arguments)}}();console.log("hi"),t()}},fullWidth:!0})))},Ue=function(e){return r.a.createElement(H.a,{container:!0},r.a.createElement(N.a,{className:e.classes.button,variant:"contained",color:"primary",size:"large",onClick:e.handleVote},"Vote"))},$e=t(92),Ke=[{username:"Steven Colbert",answer:"League"},{username:"Dana Carvey",answer:"Overwatch"},{username:"Liev Schreiber",answer:"League"}],_e=Object(C.a)(function(e){return{root:{flexGrow:1,marginTop:30},button:{margin:e.spacing(1)},avatar:{margin:10,width:200,height:200},avatarSidebar:{margin:10},formControl:{margin:e.spacing(3)},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)}}}),Ge=function(e){var a,t,o=_e();window.sessionStorage.username&&(a=window.sessionStorage.username,t=window.sessionStorage.token);var s=Object(n.useState)("league"),l=Object(d.a)(s,2),c=l[0],i=l[1],m=Object(n.useState)(""),u=Object(d.a)(m,2),p=u[0],g=u[1],h=function(e){var a=e.target,t=a.name,n=a.value;"option"===t&&i(n),"comment"===t&&g(n)};function f(e){return decodeURIComponent(window.location.href.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(e).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}var E=Object(n.useState)(0),v=Object(d.a)(E,2),b=v[0],w=v[1],y=Object(n.useState)(!0),O=Object(d.a)(y,2),k=O[0],x=O[1];return Object(n.useEffect)(function(){!function(){var e=Object(Q.a)(J.a.mark(function e(){var n,r,o,s,l,c;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,!a||!t){e.next=7;break}return e.next=4,ae("/post/id/"+f("id")+"?username="+a,t);case 4:n=e.sent,e.next=10;break;case 7:return e.next=9,ae("/post/id/"+f("id"),"");case 9:n=e.sent;case 10:if(n.data.dateCreated&&(r=new Date(n.data.dateCreated),o=r.getFullYear(),s=r.getMonth()+1,l=r.getDate(),n.data.dateCreatedFormatted=s+"/"+l+"/"+o),n.data){for(n.userAlreadyVoted=!1,c=0;c<n.data.userVotes.length;c++)n.data.userVotes[c].username===a&&(n.userAlreadyVoted=!0,n.userChoice=n.data.userVotes[c].choice);for(n.revoting="revote"===f("view"),n.pieChartData=[["Option","Votes"]],c=0;c<n.data.choices.length;c++)n.pieChartData.push([n.data.choices[c].choice,n.data.choices[c].votes])}console.log(n),w(n),x(!1);case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),k?r.a.createElement("div",null,"Loading..."):b.userAllowedToVote?b.userAlreadyVoted&&!b.revoting?r.a.createElement(Z.a,{className:o.root,maxWidth:"lg"},r.a.createElement(H.a,{container:!0,spacing:2},r.a.createElement(Le,{users:b.data.userVotes,profileImage:he.a,classes:o}),r.a.createElement(H.a,{item:!0,xs:9},r.a.createElement(Te,{classes:o,profileImage:he.a,postInfo:b.data}),r.a.createElement("h1",null,"Poll Results"),r.a.createElement("p",null,'You voted for "',b.userChoice,'".'),r.a.createElement($e.a,{width:"100%",height:"400px",chartType:"PieChart",loader:r.a.createElement("div",null,"Loading Chart"),data:b.pieChartData,options:{title:"",is3D:!0},rootProps:{"data-testid":"2"}}),r.a.createElement(N.a,{className:o.button,variant:"contained",color:"primary",size:"large",onClick:function(){window.location.href="/post/view?id="+f("id")+"&view=revote"}},"Vote Again"),r.a.createElement(Ye,{classes:o,comment:p,commentsList:b.data,token:t,username:a,handleChange:h})))):r.a.createElement(Z.a,{className:o.root,maxWidth:"lg"},r.a.createElement(H.a,{container:!0,spacing:2},r.a.createElement(Le,{users:b.data.userVotes,profileImage:he.a,classes:o}),r.a.createElement(H.a,{item:!0,xs:9},r.a.createElement(Te,{classes:o,profileImage:he.a,postInfo:b.data}),r.a.createElement("p",null,r.a.createElement("b",null,r.a.createElement("font",{color:"red"},b.revoting?"NOTE: You have already voted for this post. Voting again will change your previous choice.":""))),r.a.createElement(Re,{classes:o,option:c,handleChange:h,postInfo:b.data}),r.a.createElement(Ue,{classes:o,handleVote:function(e){console.log(c),function(){var e=Object(Q.a)(J.a.mark(function e(){var n;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee("/post/id/"+f("id")+"/vote",{username:a,choice:c},t);case 3:(n=e.sent).message,console.log(n),window.location.href="/post/view?id="+f("id"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}()()}}),r.a.createElement(Ye,{classes:o,comment:p,commentsList:b.data,token:t,username:a,handleChange:h})))):r.a.createElement(Z.a,{className:o.root,maxWidth:"lg"},r.a.createElement(H.a,{container:!0,spacing:2},r.a.createElement(Le,{users:Ke,profileImage:he.a,classes:o}),r.a.createElement(H.a,{item:!0,xs:9},r.a.createElement(Te,{classes:o,profileImage:he.a,postInfo:b.data}),r.a.createElement("p",null,"You are not authorized to vote for this post. Please ",r.a.createElement("a",{href:"../login"},"sign in.")))))},Je=t(49),Qe=function(e,a){return{type:"fetch_user",payload:{username:e,token:a}}},Ze=/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,He=Object(C.a)(function(e){return{textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:300},button:{margin:e.spacing(1)}}});var Xe=Object(i.e)(function(e){var a=Object(Je.b)(),t=function(a){e.history.push(a)};if(window.sessionStorage.username){var o=window.sessionStorage.username,s=window.sessionStorage.token;a(Qe(o,s)),t("/")}var l=He(),c=Object(n.useState)(""),i=Object(d.a)(c,2),m=i[0],u=i[1],g=Object(n.useState)(""),h=Object(d.a)(g,2),f=h[0],E=h[1],v=Object(n.useState)(""),b=Object(d.a)(v,2),w=b[0],y=b[1],O=Object(n.useState)(""),k=Object(d.a)(O,2),x=k[0],j=k[1],S=Object(n.useState)(""),C=Object(d.a)(S,2),P=C[0],I=C[1],L=Object(n.useState)(""),T=Object(d.a)(L,2),B=T[0],M=T[1],F=Object(n.useState)(""),A=Object(d.a)(F,2),z=A[0],R=A[1],V=Object(n.useState)({firstName:!1,lastName:!1,emailAddress:!1,aboutMe:!1,username:!1,password:!1,confirmPass:!1}),D=Object(d.a)(V,2),q=D[0],W=D[1],Y=function(e){var a=e.target.name;W(Object(ve.a)({},q,Object(p.a)({},a,!0)))},U=function(e){var a=e.target,t=a.name,n=a.value;switch(t){case"firstName":u(n);break;case"lastName":E(n);break;case"emailAddress":y(n);break;case"aboutMe":j(n);break;case"username":I(n);break;case"password":M(n);break;case"confirmPass":R(n)}},$=function(){var e=Object(Q.a)(J.a.mark(function e(){var n,r;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={firstName:m,lastName:f,emailAddress:w,aboutMe:x,username:P,password:B},e.next=4,ee("/account/u",n);case 4:"success"===(r=e.sent).message?(a(Qe(P,r.token)),window.sessionStorage.username=P,window.sessionStorage.token=r.token,t("/")):console.log(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),K=function(){var e=document.getElementById("emailAddress");if(e){var a=e.value;if(a)return a.match(Ze)}return!1},_={firstName:m.length<=0,lastName:f.length<=0,emailAddress:w.length<=0||!K(),aboutMe:x.length<=0,username:P.length<=0,password:B.length<=0,confirmPass:z.length<=0,passwordMatch:B!==z},G=function(e){var a=_[e],t=q[e];return!!a&&t},X=Object.keys(_).filter(function(e){return"aboutMe"!==e}).some(function(e){return _[e]});return r.a.createElement(Z.a,{style:{marginTop:"75px",marginLeft:"20%"}},r.a.createElement(H.a,{container:!0},r.a.createElement("h1",null,"Sign up for Tindigo, and get to voting!")),r.a.createElement(H.a,{container:!0},r.a.createElement(we.a,{id:"first-name",label:"First Name",name:"firstName",value:m,onBlur:Y,onChange:U,className:l.textField,helperText:G("firstName")?"please provide your first name":"",margin:"normal"})),r.a.createElement(H.a,{container:!0},r.a.createElement(we.a,{id:"last-name",label:"Last Name",name:"lastName",value:f,onBlur:Y,onChange:U,className:l.textField,helperText:G("lastName")?"please provide your last name":"",margin:"normal"})),r.a.createElement(H.a,{container:!0},r.a.createElement(we.a,{id:"emailAddress",label:"Email Address",name:"emailAddress",value:w,onBlur:Y,onChange:U,className:l.textField,helperText:G("emailAddress")?"please provide a valid email address":"",margin:"normal"})),r.a.createElement(H.a,{container:!0},r.a.createElement(we.a,{id:"about",label:"About",name:"aboutMe",value:x,onBlur:Y,onChange:U,className:l.textField,helperText:G("aboutMe")?"a description about you is not required":"",margin:"normal"})),r.a.createElement(H.a,{container:!0},r.a.createElement(we.a,{id:"user-name",label:"User Name",name:"username",value:P,onBlur:Y,onChange:U,className:l.textField,helperText:G("username")?"please provide a user name":"",margin:"normal"})),r.a.createElement(H.a,{container:!0},r.a.createElement(we.a,{id:"password",label:"Password",name:"password",value:B,onBlur:Y,onChange:U,className:l.textField,helperText:G("password")?"please provide a password":B!==z&&q.password?"password must match the confirm password field":"",margin:"normal"})),r.a.createElement(H.a,{container:!0},r.a.createElement(we.a,{id:"confirm-password",label:"Confirm Password",name:"confirmPass",value:z,onBlur:Y,onChange:U,className:l.textField,helperText:G("confirmPass")?"please confirm your password":_.passwordMatch&&q.confirmPass?"confirmation password must match the password field":"",margin:"normal"})),r.a.createElement(H.a,{container:!0,style:{marginTop:"15px"}},r.a.createElement(N.a,{variant:"contained",color:"primary",className:l.button,size:"large",disabled:X,onClick:$},"Sign Up")))}),ea=Object(C.a)(function(e){return{textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:300},button:{margin:e.spacing(1)}}});var aa=Object(i.e)(function(e){var a=Object(Je.b)(),t=function(a){e.history.push(a)};if(window.sessionStorage.username){var o=window.sessionStorage.username,s=window.sessionStorage.token;a(Qe(o,s)),t("/")}var l=ea(),c=Object(n.useState)(""),i=Object(d.a)(c,2),m=i[0],u=i[1],g=Object(n.useState)(""),h=Object(d.a)(g,2),f=h[0],E=h[1],v=Object(n.useState)({username:!1,password:!1}),b=Object(d.a)(v,2),w=b[0],y=b[1],O=function(e){var a=e.target.name;y(Object(ve.a)({},w,Object(p.a)({},a,!0)))},k=function(e){var a=e.target,t=a.name,n=a.value;switch(t){case"username":u(n);break;case"password":E(n)}},x=Object(n.useState)(!1),j=Object(d.a)(x,2),S=j[0],C=j[1],P=function(){var e=Object(Q.a)(J.a.mark(function e(){var n,r;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={username:m,password:f},e.prev=1,e.next=4,ee("/account/signin",n);case 4:"success"===(r=e.sent).message?(a(Qe(m,r.token)),window.sessionStorage.username=m,window.sessionStorage.token=r.token,t("/")):(console.log(r),C(!0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(){return e.apply(this,arguments)}}(),I={username:m.length<=0,password:f.length<=0},L=function(e){var a=I[e],t=w[e];return!!a&&t},T=Object.keys(I).filter(function(e){return"about"!==e}).some(function(e){return I[e]});return r.a.createElement(Z.a,{style:{marginTop:"75px",marginLeft:"20%"}},r.a.createElement(H.a,{container:!0},r.a.createElement("h1",null,"Login to Tindigo!")),S?r.a.createElement("p",{style:{color:"red"}},"Incorrect username or password"):"",r.a.createElement(H.a,{container:!0},r.a.createElement(we.a,{id:"user-name",label:"User Name",name:"username",value:m,onBlur:O,onChange:k,className:l.textField,helperText:L("username")?"please provide a user name":"",onKeyPress:function(e){"Enter"===e.key&&P()},margin:"normal"})),r.a.createElement(H.a,{container:!0},r.a.createElement(we.a,{id:"standard-password-input",label:"Password",type:"password",autoComplete:"current-password",name:"password",value:f,onBlur:O,onChange:k,className:l.textField,helperText:L("username")?"please provide a user name":"",onKeyPress:function(e){"Enter"===e.key&&P()},margin:"normal"})),r.a.createElement(H.a,{container:!0},r.a.createElement(N.a,{variant:"contained",color:"primary",className:l.button,size:"large",disabled:T,onClick:P},"Login")))}),ta=Object(C.a)(function(e){return{avatar:{margin:10,width:200,height:200}}});var na=Object(i.e)(function(e){var a,t;function o(e){return decodeURIComponent(window.location.href.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(e).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}ta(),window.sessionStorage.username&&(a=window.sessionStorage.username,t=window.sessionStorage.token);var s=o("query"),l=Object(n.useState)(0),c=Object(d.a)(l,2),i=c[0],m=c[1],u=Object(n.useState)(!0),p=Object(d.a)(u,2),g=p[0],h=p[1];return Object(n.useEffect)(function(){!function(){var e=Object(Q.a)(J.a.mark(function e(){var a,n,r;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o("entryIndex"),e.next=4,ae("/post/search?tag="+s+"&begIndex=0%limit=10",t);case 4:for(a=e.sent,n=a.size,Math.ceil(1*n/10),a.postIdList=[],r=0;r<a.data.length;r++)a.postIdList.push(a.data[r]._id);m(a),h(!1),console.log(a);case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),r.a.createElement(Z.a,null,r.a.createElement("h1",null,'Search results for "',s,'"'),r.a.createElement(H.a,{container:!0},r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement("center",null,r.a.createElement("h1",null)),r.a.createElement(ce,{postIds:g?0:i.postIdList,token:t,username:a}))))});var ra=function(){return r.a.createElement(l.a,{theme:u},r.a.createElement(c.a,null,r.a.createElement(_,null),r.a.createElement(i.a,{exact:!0,path:"/",component:ie}),r.a.createElement(i.a,{path:"/profile",component:Ee}),r.a.createElement(i.a,{path:"/post/create",component:Ie}),r.a.createElement(i.a,{path:"/post/view",component:Ge}),r.a.createElement(i.a,{path:"/signup",component:Xe}),r.a.createElement(i.a,{path:"/login",component:aa}),r.a.createElement(i.a,{path:"/search",component:na}),r.a.createElement("div",{style:{height:"20vh"}}," ")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oa=t(48),sa=Object(oa.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"fetch_user":return a.payload||!1;default:return e}}}),la=Object(oa.c)(sa);s.a.render(r.a.createElement(Je.a,{store:la},r.a.createElement(ra,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},32:function(e,a,t){e.exports=t.p+"static/media/profile-pic-placeholder.543f1ecc.png"}},[[111,1,2]]]);
//# sourceMappingURL=main.48b7556e.chunk.js.map